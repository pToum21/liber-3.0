TODO: 

- MAKE MYLIBRARY: this is user profile, so when they are logged in, they can go to that page to see:
    their MyBookshelf (saved books), and perhaps all their ratings and comments? Add reviews and comment to user model

- adjust ratings system / highest rated book, limit ratings to one? (so user cannot overinflate ratings)


-MAKE YOUR OWN .ENV SECRET
    (in .env file:
    SECRET=rvh8uvnufvhe8rvr
    )
    but make your own random string of letters and numbers

- prevent user from adding duplicate to saved books from the spotlight read section

- Link buttons in highest rated book

- fix size of nav menu to be full width and height on mobile

- add regex to email and password for login and signup

- for signup, make it require to have all fields (i was able to sign up with just a freakin' password)

- add login check for everything that needs a login requirement

-change mui styling from blue; add instrux to error message  for signup fields being empty or wrong

=============================================

NOTES (can leave notes here detailing what you did):

    General notes: 

        color scheme: 
            offwhite: #f3f3ec
            forest green: #8abbb1
            black: #000000 or 'black'

        always git pull origin main when you get on and before you code to avoid git conflicts as much as possible

        MyLibrary: is user's profile; MyBookshelf: will be saved books

        front end: when making queries and mutations, dont just select all fields. Pay attention to what information you will be returning, because some are unnecessary.
        For example, when making the CREATE_USER mutation, i didn't select keptBooks, because they won't have any, so we don't need to retrieve or return that field for this mutation.


    ===================================================

    from Ryan: 
        2/7: readded secret, styled login and signup
    

    from Peyton : 


    from Sal :



=============================================
EXTRA CODE:


if (context.user) {
                try {
                    const user = await User.findById(context.user._id);

                    const newComment = {
                        userId: user._id,
                        comments,
                    };

                    const newReview = new Review({
                        // _id
                        userId: user._id,
                        comments: [newComment],
                        rating: rating,
                    });

                    // saves document into database (conmpass)
                    await newReview.save();

                    // Find the book by its _id and update it with the new review's _id
                    const updatedBook = await Book.findById(bookId);
                    updatedBook.reviews.push(newReview._id); // Push the review's _id
                    await updatedBook.save();

                    // Assuming you need to return the added review, fetch it back along with necessary book details
                    // Since reviews are now referenced by ID, fetch the detailed review directly if needed
                    const addedReview = await Review.findById(newReview._id);

                    if (!addedReview) {
                        console.error('Review not found after update');
                        throw new Error('Review not found after update');
                    }

                    // Structure the response as needed, including the bookId
                    const responseData = {
                        _id: addedReview._id,
                        title: updatedBook.title,
                        bookId: bookId, // Ensuring the bookId is included in the response
                        authors: updatedBook.authors,
                        image: updatedBook.image,
                        text: updatedBook.text,
                        reviews: [
                            {
                                _id: addedReview._id,
                                comments: addedReview.comments.map(comment => ({
                                    _id: comment._id,
                                    userId: comment.userId,
                                    comments: comment.comments,
                                })),
                                rating: addedReview.rating, // Include the rating here
                            }
                        ],
                    };

                    return responseData;




                    
                    This is a sentence. 
                    \n